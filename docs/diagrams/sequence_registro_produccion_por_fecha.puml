@startuml sequence_registro_produccion_por_fecha
title Secuencia: Obtener Registros de ProducciÃ³n por Fecha

actor Cliente as User
participant "RegistroProduccionController" as Ctrl
participant "RegistroProduccionService" as Srv
participant "RegistroProduccionRepository (In-Memory)" as Repo
participant "RegistroProduccion" as Model
participant "RegistroProduccionDTO" as DTO

User -> Ctrl : GET /api/v1/registros-produccion/fecha?fecha={fecha}
activate Ctrl
Ctrl -> Srv : obtenerRegistrosPorFecha(fecha)
activate Srv
Srv -> Repo : findByFecha(fecha)
activate Repo
Repo --> Srv : List<RegistroProduccion>
deactivate Repo
Srv -> Srv : mapListToDTOList(listaRegistros) ' self-call to represent mapping loop
Srv --> Ctrl : List<RegistroProduccionDTO>
deactivate Srv
Ctrl --> User : HTTP 200 OK (body: List<RegistroProduccionDTO>)
deactivate Ctrl
@enduml
