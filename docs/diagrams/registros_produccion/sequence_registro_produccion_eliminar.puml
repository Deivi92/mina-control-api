@startuml sequence_registro_produccion_eliminar
title Secuencia: Eliminar Registro de ProducciÃ³n

actor Cliente as User
participant "RegistroProduccionController" as Ctrl
participant "RegistroProduccionService" as Srv
participant "RegistroProduccionRepository (In-Memory)" as Repo

User -> Ctrl : DELETE /api/registros-produccion/{id}
activate Ctrl
Ctrl -> Srv : eliminarRegistro(id)
activate Srv
Srv -> Repo : findById(id)
activate Repo
Repo --> Srv : Optional<RegistroProduccion>
deactivate Repo

alt Registro Existe
  Srv -> Repo : deleteById(id)
  activate Repo
  Repo --> Srv : void
  deactivate Repo
  Srv --> Ctrl : void
  Ctrl --> User : HTTP 204 No Content
else Registro No Existe
  Srv --> Ctrl : throws RecursoNoEncontradoException("Registro no encontrado")
  deactivate Srv
  Ctrl -> GlobalExceptionHandler : maneja RecursoNoEncontradoException
  GlobalExceptionHandler --> Ctrl : ResponseEntity (Error)
  Ctrl --> User : HTTP 404 Not Found
end
deactivate Ctrl

@enduml
